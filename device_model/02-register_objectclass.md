注册类型TypeImpl之后就需要初始化该类型，如果打开TypeImpl这个结构体，可以看到其中有个叫class的成员。初始化其实就是初始化的它。

```
    TypeImpl                               ObjectClass
    +----------------------+               +----------------------+
    |class                 |<------------->|type                  |
    |     (ObjectClass*)   |               |     (TypeImpl *)     |
    +----------------------+               +----------------------+
```

进行初始化的具体函数是 type_initialize()。其中主要做了几件事：

  * 设置类型的大小并创建该类型
  * 设置类型实例的大小，为实例化设备做准备
  * 初始化父设备类型，如果没有的话
  * 调用父设备类型的class_base_init初始化自己
  * 调用class_init初始化自己

在这里看不出什么具体的东西，因为每种设备类型将执行不同的初始化函数。

但是有一点可以看出的是，qemu设备类型有一个树形结构。
